{"version":3,"file":"components/row-selection-controller.js","mappings":";;AAAA,MAAMA,uBAAuB,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,0BAA1B,CAAhC;AAEAF,uBAAuB,CAACG,OAAxB,CAAgCC,cAAc,IAAI;EAChD,MAAMC,KAAK,GAAGD,cAAc,CAACE,OAAf,CAAuB,gBAAvB,CAAd;EACA,MAAMC,eAAe,GAAGF,KAAK,CAACH,gBAAN,CAAuB,wBAAvB,CAAxB;EACA,MAAMM,iBAAiB,GAAGH,KAAK,CAACI,aAAN,CAAoB,kCAApB,CAA1B;EACA,MAAMC,mBAAmB,GAAGL,KAAK,CAACI,aAAN,CAAoB,mCAApB,CAA5B;EACA,MAAME,oBAAoB,GAAGN,KAAK,CAACI,aAAN,CAAoB,qBAApB,CAA7B;EACA,MAAMG,qBAAqB,GAAGP,KAAK,CAACI,aAAN,CAAoB,sBAApB,CAA9B;;EAEA,IAAIF,eAAe,CAACM,MAAhB,KAA2B,CAA/B,EAAkC;IAChCT,cAAc,CAACU,QAAf,GAA0B,IAA1B;;IACA,IAAIN,iBAAJ,EAAuB;MACrBA,iBAAiB,CAACM,QAAlB,GAA6B,IAA7B;IACD;EACF;;EAED,MAAMC,qBAAqB,GAAG,MAAM;IAClC,OAAOR,eAAe,CAACM,MAAhB,KAA2B,CAAC,GAAGN,eAAJ,EAAqBS,MAArB,CAA4BC,CAAC,IAAIA,CAAC,CAACC,OAAnC,EAA4CL,MAA9E;EACD,CAFD;;EAIA,MAAMM,qBAAqB,GAAG,MAAM;IAClC,OAAO,CAAC,GAAGZ,eAAJ,EAAqBS,MAArB,CAA4BC,CAAC,IAAIA,CAAC,CAACC,OAAnC,EAA4CL,MAA5C,GAAqD,CAA5D;EACD,CAFD;;EAIAN,eAAe,CAACJ,OAAhB,CAAwBiB,QAAQ,IAAI;IAClCA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,MAAM;MACxCC,UAAU;IACX,CAFD;EAGD,CAJD;EAMAlB,cAAc,CAACiB,gBAAf,CAAgC,OAAhC,EAAyC,MAAM;IAC7C,MAAME,QAAQ,GAAG,CAACR,qBAAqB,EAAvC;IACAR,eAAe,CAACJ,OAAhB,CAAwBc,CAAC,IAAIA,CAAC,CAACC,OAAF,GAAYK,QAAzC;IACAD,UAAU;EACX,CAJD;EAMAX,oBAAoB,SAApB,IAAAA,oBAAoB,WAApB,YAAAA,oBAAoB,CAAEU,gBAAtB,CAAuC,OAAvC,EAAgD,MAAM;IACpDd,eAAe,CAACJ,OAAhB,CAAwBc,CAAC,IAAIA,CAAC,CAACC,OAAF,GAAY,IAAzC;IACAI,UAAU;EACX,CAHD;EAKAV,qBAAqB,SAArB,IAAAA,qBAAqB,WAArB,YAAAA,qBAAqB,CAAES,gBAAvB,CAAwC,OAAxC,EAAiD,MAAM;IACrDd,eAAe,CAACJ,OAAhB,CAAwBc,CAAC,IAAIA,CAAC,CAACC,OAAF,GAAY,KAAzC;IACAI,UAAU;EACX,CAHD;;EAKA,SAASA,UAAT,GAAsB;IACpBlB,cAAc,CAACoB,SAAf,CAAyBC,MAAzB,CAAgC,8BAAhC;IACArB,cAAc,CAACoB,SAAf,CAAyBC,MAAzB,CAAgC,wCAAhC;IACAf,mBAAmB,SAAnB,IAAAA,mBAAmB,WAAnB,YAAAA,mBAAmB,CAAEc,SAArB,CAA+BC,MAA/B,CAAsC,2CAAtC;;IAEA,IAAIV,qBAAqB,EAAzB,EAA6B;MAC3BX,cAAc,CAACoB,SAAf,CAAyBE,GAAzB,CAA6B,8BAA7B;MACA;IACD;;IAED,IAAIP,qBAAqB,EAAzB,EAA6B;MAC3Bf,cAAc,CAACoB,SAAf,CAAyBE,GAAzB,CAA6B,wCAA7B;IACD;EACF;;EAEDzB,QAAQ,CAACoB,gBAAT,CAA0B,OAA1B,EAAmCM,KAAK,IAAI;IAC1C,IAAIjB,mBAAmB,SAAnB,IAAAA,mBAAmB,WAAnB,IAAAA,mBAAmB,CAAEkB,QAArB,CAA8BD,KAAK,CAACE,MAApC,KAA+CF,KAAK,CAACE,MAAN,KAAiBrB,iBAApE,EAAuF;MACrF;IACD;;IAEDE,mBAAmB,SAAnB,IAAAA,mBAAmB,WAAnB,YAAAA,mBAAmB,CAAEc,SAArB,CAA+BC,MAA/B,CAAsC,2CAAtC;EACD,CAND;EAQAjB,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEa,gBAAnB,CAAoC,OAApC,EAA6C,MAAM;IACjDX,mBAAmB,CAACc,SAApB,CAA8BM,MAA9B,CAAqC,2CAArC;EACD,CAFD;EAIAC,MAAM,CAACC,yBAAP,GAAmCV,UAAnC;AACD,CAzED,E","sources":["webpack://jenkins-ui/./src/main/js/components/row-selection-controller/index.js"],"sourcesContent":["const rowSelectionControllers = document.querySelectorAll(\".jenkins-table__checkbox\")\n\nrowSelectionControllers.forEach(headerCheckbox => {\n  const table = headerCheckbox.closest(\".jenkins-table\")\n  const tableCheckboxes = table.querySelectorAll(\"input[type='checkbox']\")\n  const moreOptionsButton = table.querySelector(\".jenkins-table__checkbox-options\")\n  const moreOptionsDropdown = table.querySelector(\".jenkins-table__checkbox-dropdown\")\n  const moreOptionsAllButton = table.querySelector(\"[data-select='all']\")\n  const moreOptionsNoneButton = table.querySelector(\"[data-select='none']\")\n\n  if (tableCheckboxes.length === 0) {\n    headerCheckbox.disabled = true;\n    if (moreOptionsButton) {\n      moreOptionsButton.disabled = true;\n    }\n  }\n\n  const allCheckboxesSelected = () => {\n    return tableCheckboxes.length === [...tableCheckboxes].filter(e => e.checked).length\n  }\n\n  const anyCheckboxesSelected = () => {\n    return [...tableCheckboxes].filter(e => e.checked).length > 0\n  }\n\n  tableCheckboxes.forEach(checkbox => {\n    checkbox.addEventListener(\"change\", () => {\n      updateIcon()\n    })\n  })\n\n  headerCheckbox.addEventListener(\"click\", () => {\n    const newValue = !allCheckboxesSelected()\n    tableCheckboxes.forEach(e => e.checked = newValue)\n    updateIcon()\n  })\n\n  moreOptionsAllButton?.addEventListener(\"click\", () => {\n    tableCheckboxes.forEach(e => e.checked = true)\n    updateIcon()\n  })\n\n  moreOptionsNoneButton?.addEventListener(\"click\", () => {\n    tableCheckboxes.forEach(e => e.checked = false)\n    updateIcon()\n  })\n\n  function updateIcon() {\n    headerCheckbox.classList.remove(\"jenkins-table__checkbox--all\")\n    headerCheckbox.classList.remove(\"jenkins-table__checkbox--indeterminate\")\n    moreOptionsDropdown?.classList.remove(\"jenkins-table__checkbox-dropdown--visible\")\n\n    if (allCheckboxesSelected()) {\n      headerCheckbox.classList.add(\"jenkins-table__checkbox--all\")\n      return\n    }\n\n    if (anyCheckboxesSelected()) {\n      headerCheckbox.classList.add(\"jenkins-table__checkbox--indeterminate\")\n    }\n  }\n\n  document.addEventListener(\"click\", event => {\n    if (moreOptionsDropdown?.contains(event.target) || event.target === moreOptionsButton) {\n      return\n    }\n\n    moreOptionsDropdown?.classList.remove(\"jenkins-table__checkbox-dropdown--visible\")\n  })\n\n  moreOptionsButton?.addEventListener(\"click\", () => {\n    moreOptionsDropdown.classList.toggle(\"jenkins-table__checkbox-dropdown--visible\")\n  })\n\n  window.updateTableHeaderCheckbox = updateIcon\n})\n"],"names":["rowSelectionControllers","document","querySelectorAll","forEach","headerCheckbox","table","closest","tableCheckboxes","moreOptionsButton","querySelector","moreOptionsDropdown","moreOptionsAllButton","moreOptionsNoneButton","length","disabled","allCheckboxesSelected","filter","e","checked","anyCheckboxesSelected","checkbox","addEventListener","updateIcon","newValue","classList","remove","add","event","contains","target","toggle","window","updateTableHeaderCheckbox"],"sourceRoot":""}